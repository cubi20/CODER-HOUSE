// _mixins.scss - CRUDAS Fashion Store
// Mixins optimizados y expandidos
@use 'variables' as *;

// ============================================
// FLEXBOX
// ============================================
@mixin flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

@mixin flex-between {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

@mixin flex-column {
    display: flex;
    flex-direction: column;
}

@mixin flex-column-center {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

// ============================================
// TRANSICIONES Y ANIMACIONES
// ============================================
@mixin transition($property: all, $duration: $transition-fast) {
    transition: $property $duration;
}

@mixin hover-lift($distance: -5px, $shadow: $shadow-hover) {
    @include transition;
    
    &:hover {
        transform: translateY($distance);
        box-shadow: $shadow;
    }
}

@mixin hover-scale($scale: 1.05) {
    @include transition;
    
    &:hover {
        transform: scale($scale);
    }
}

@mixin hover-shadow($shadow: $shadow-xl) {
    @include transition;
    
    &:hover {
        transform: translateY(-5px);
        box-shadow: $shadow;
    }
}

// ============================================
// TEXTO
// ============================================
@mixin text-shadow($color: rgba(0, 0, 0, 0.5)) {
    text-shadow: 2px 2px 10px $color;
}

@mixin text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

@mixin line-clamp($lines: 2) {
    display: -webkit-box;
    -webkit-line-clamp: $lines;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

// ============================================
// BOTONES
// ============================================
@mixin button-base {
    display: inline-block;
    padding: 12px 35px;
    border: none;
    border-radius: $border-radius-round;
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-size: $font-size-sm - 1;
    font-weight: $font-weight-medium;
    text-decoration: none;
    text-align: center;
    @include transition;
    
    &:hover {
        transform: scale(1.05);
    }
    
    &:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
    }
}

@mixin button-primary {
    @include button-base;
    background-color: $color-secondary;
    color: $color-white;
    
    &:hover:not(:disabled) {
        background-color: $color-primary;
        color: $color-white;
    }
}

@mixin button-outline {
    @include button-base;
    background-color: transparent;
    border: 2px solid $color-secondary;
    color: $color-secondary;
    
    &:hover:not(:disabled) {
        background-color: $color-secondary;
        color: $color-white;
    }
}

@mixin button-ghost {
    @include button-base;
    background-color: rgba(255, 255, 255, 0.1);
    border: 2px solid $color-white;
    color: $color-white;
    backdrop-filter: blur(10px);
    
    &:hover:not(:disabled) {
        background-color: $color-white;
        color: $color-secondary;
    }
}

// ============================================
// CARDS
// ============================================
@mixin card-base {
    background: $color-white;
    border-radius: $border-radius-md;
    overflow: hidden;
    box-shadow: $shadow-sm;
    @include transition;
}

@mixin card-hover {
    @include card-base;
    
    &:hover {
        transform: translateY(-10px);
        box-shadow: $shadow-xl;
    }
}

// ============================================
// IMÃGENES
// ============================================
@mixin image-cover {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

@mixin image-zoom {
    overflow: hidden;
    
    img {
        @include transition(transform, $transition-slow);
    }
    
    &:hover img {
        transform: scale(1.1);
    }
}

@mixin aspect-ratio($width: 1, $height: 1) {
    position: relative;
    
    &::before {
        content: '';
        display: block;
        padding-top: calc($height / $width * 100%);
    }
    
    > * {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
}

// ============================================
// OVERLAYS Y GRADIENTES
// ============================================
@mixin overlay($color: rgba(0, 0, 0, 0.5)) {
    position: relative;
    
    &::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: $color;
        pointer-events: none;
    }
}

@mixin gradient-overlay($direction: to bottom, $start: rgba(0, 0, 0, 0), $end: rgba(0, 0, 0, 0.7)) {
    background: linear-gradient($direction, $start, $end);
}

// ============================================
// RESPONSIVE
// ============================================
@mixin respond-to($breakpoint) {
    @if $breakpoint == xs {
        @media screen and (max-width: $breakpoint-xs) {
            @content;
        }
    }
    @else if $breakpoint == mobile {
        @media screen and (max-width: $breakpoint-mobile) {
            @content;
        }
    }
    @else if $breakpoint == tablet {
        @media screen and (max-width: $breakpoint-tablet) {
            @content;
        }
    }
    @else if $breakpoint == laptop {
        @media screen and (max-width: $breakpoint-laptop) {
            @content;
        }
    }
    @else if $breakpoint == desktop {
        @media screen and (min-width: $breakpoint-desktop) {
            @content;
        }
    }
    @else if $breakpoint == wide {
        @media screen and (min-width: $breakpoint-wide) {
            @content;
        }
    }
}

// ============================================
// UTILIDADES
// ============================================
@mixin visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

@mixin scrollbar-custom($width: 8px, $track: #f1f1f1, $thumb: $color-primary) {
    &::-webkit-scrollbar {
        width: $width;
    }
    
    &::-webkit-scrollbar-track {
        background: $track;
        border-radius: $border-radius-round;
    }
    
    &::-webkit-scrollbar-thumb {
        background: $thumb;
        border-radius: $border-radius-round;
        
        &:hover {
            background: darken($thumb, 10%);
        }
    }
}

// ============================================
// FORMULARIOS
// ============================================
@mixin input-base {
    padding: 12px 20px;
    border: 1px solid #ddd;
    border-radius: $border-radius-xl;
    font-size: $font-size-sm;
    font-family: $font-family;
    outline: none;
    @include transition;
    
    &:focus {
        border-color: $color-primary;
        box-shadow: 0 0 0 3px rgba($color-primary, 0.1);
    }
    
    &::placeholder {
        color: $color-text-lighter;
    }
}

// ============================================
// BADGES Y TAGS
// ============================================
@mixin badge($bg: $color-primary, $color: $color-white) {
    display: inline-block;
    padding: 4px 12px;
    background-color: $bg;
    color: $color;
    font-size: $font-size-xs;
    font-weight: $font-weight-medium;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border-radius: $border-radius-xs;
}